<mat-toolbar>
  <mat-icon
    class="example-icon"
    aria-hidden="false"
    aria-label="Example user verified icon"
  >
    verified_user
  </mat-icon>
  <span>Angular Sleeping Tracker</span>
  <span class="example-spacer"></span>
  <span>
    <button mat-raised-button color="primary" (click)="openDialog('Add', {})">
      Create New Record
    </button>
  </span>
</mat-toolbar>
<div class="loading-shade" *ngIf="isLoadingResults || isRateLimitReached">
  <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
  <div class="rate-limit-reached" *ngIf="isRateLimitReached">
    Your API rate limit has been reached. It will be reset in one minute.
  </div>
</div>
<div class="container mat-elevation-z8">
  <div class="table-container">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      matSortActive="id"
      matSortDiableClear
      matSortDirection="desc"
    >
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>Id.</th>
        <td mat-cell *matCellDef="let element">{{ element.id }}</td>
      </ng-container>
      <ng-container matColumnDef="startOfSleep">
        <th mat-header-cell *matHeaderCellDef>Start of Sleep</th>
        <td mat-cell *matCellDef="let element">{{ element.startOfSleep }}</td>
      </ng-container>
      <ng-container matColumnDef="endOfSleep">
        <th mat-header-cell *matHeaderCellDef>End of Sleep</th>
        <td mat-cell *matCellDef="let element">{{ element.endOfSleep }}</td>
      </ng-container>
      <ng-container matColumnDef="typeOfSleep">
        <th mat-header-cell *matHeaderCellDef>Type of Sleep</th>
        <td mat-cell *matCellDef="let element">{{ element.typeOfSleep }}</td>
      </ng-container>
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <button
            type="button"
            mat-stroked-button
            color="warm"
            (click)="openDialog('Delete', element)"
          >
            Delete
          </button>
        </td>
      </ng-container>
      <tr
        mat-header-row
        *matHeaderRowDef="['id', 'startOfSleep', 'endOfSleep', 'typeOfSleep']"
      ></tr>
      <tr mat-row *matRowDef="let element; columns: displayedColumns"></tr>
    </table>
  </div>
  <mat-paginator
    [length]="resultsLength"
    [pageSize]="5"
    [pageSizeOptions]="[5, 10, 20]"
    aria-label="Select page of Sleep Records results"
  ></mat-paginator>
</div>
